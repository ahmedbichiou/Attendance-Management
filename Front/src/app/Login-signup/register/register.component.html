<!-- register.component.html -->
<div class="login-container">
  <form class="login-form" (ngSubmit)="register()">
    <a href="javascript:history.back()">
      <img src="../../assets/backarrow.png" alt="Back" class="back-arrow" />
    </a>
    <h2 class="register-title">Creer un compte</h2>
    <div class="form-group">
      <label for="username">Username:</label>
      <input type="text" id="username" [(ngModel)]="username" name="username" placeholder="Username" required>
    </div>
    <label for="username">Email:</label>
    <div class="form-group">
      <input type="email" id="email" [(ngModel)]="email" name="email" placeholder="Email" required>
    </div>
    <div class="form-group">
      <label for="username">Mot de passe:</label>
      <input type="password" id="password" [(ngModel)]="password" name="password" placeholder="Password" required>
    </div>
    <div class="form-group">
      <select id="role" [(ngModel)]="role" name="role" required>
        <option value="" disabled selected>Choississez votre role</option>
        <option value="ÉTUDIANT">Étudiant</option>
        <option value="PROFESSEUR">Professeur</option>
        <option value="ADMINISTRATEUR">Administrateur</option>
      </select>
    </div>

    <!-- Conditional fields for Étudiant -->
    <div *ngIf="role === 'ÉTUDIANT'">
      <div class="form-group">
        <input type="text" id="nom" [(ngModel)]="nom" name="nom" placeholder="Nom" required>
      </div>
      <div class="form-group">
        <input type="text" id="prenom" [(ngModel)]="prenom" name="prenom" placeholder="Prénom" required>
      </div>
      <div class="form-group">
        <input type="text" id="numeroTel" [(ngModel)]="numeroTel" name="numeroTel" placeholder="Numéro de Téléphone" required>
      </div>
    </div>

    <!-- Conditional fields for Professeur -->
    <div *ngIf="role === 'PROFESSEUR'">
      <div class="form-group">
        <input type="text" id="nomProf" [(ngModel)]="nom" name="nom" placeholder="Nom" required>
      </div>
      <div class="form-group">
        <input type="text" id="prenomProf" [(ngModel)]="prenom" name="prenom" placeholder="Prénom" required>
      </div>
      <div class="form-group">
        <input type="text" id="departement" [(ngModel)]="departement" name="departement" placeholder="Département" required>
      </div>
    </div>

    <div class="form-group">
      <button type="submit" class="submit-button">Creer un compte</button>
    </div>
  </form>
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
</div>
